name: Jira Status Check

on: [pull_request]

jobs:
  jira_status_check:
    runs-on: ubuntu-latest
    steps:
      - name: Test Jira Status Check
        uses: cleartax/jira-lint@master
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          jira-token: ${{ secrets.JIRA_API_TOKEN }}
          jira-base-url: https://smarsh.atlassian.net
          skip-branches: '^(main\/v\d+)$'
          pr-threshold: 1000
          skip-comments: true
          validate_issue_status: true
          allowed_issue_statuses: >-
            Development,
            Development Complete,
            Technical Review
